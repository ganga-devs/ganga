from GangaTest.Framework.utils import sleep_until_completed, write_file, file_contains
from os.path import join,basename

# Do a standard Root job
j1 = Job(application=Root(),backend=Dirac())
assert(j1.submit())

# Do a Root job using pyRoot
j2 = Job(application=Root(usepython=True),backend=Dirac())
assert(j2.submit())


assert(sleep_until_completed(j1,1800))
assert(sleep_until_completed(j2,1800))

assert(file_contains(join(j1.outputdir,'stdout'),'Hello World from ROOT'))
assert(file_contains(join(j2.outputdir,'stdout'),'Hello from PyRoot'))
