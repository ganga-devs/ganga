# try to detect the violation in sorting the jobs registry
# this test does not guarantee to detect all cases because of implementation dependant nature of the problem
# in python2.2 it has a high probability to detect possible failures

for repeat in range(5):
    print "sorted registry pass",repeat

    for start in range(10):
        j = Job()
        print 'created job ',j.id, start

    ids1 = jobs.ids()
    ids2 = jobs.ids()
    ids2.sort()
    assert(ids1==ids2)
    jobs.remove()
